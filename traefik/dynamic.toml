[http]
[http.routers]
[http.routers.to-traefik]
rule = "Host(`traefik.sawyer.services`)"
service = "api@internal"
[http.routers.to-dashy]
rule = "Host(`dashy.sawyer.services`)"
service = "dashy"
[http.routers.to-searxng]
rule = "Host(`searxng.sawyer.services`) || Host(`search.sawyer.services`)"
service = "searxng"
[http.routers.to-plex]
rule = "Host(`plex.sawyer.services`)"
service = "plex"
[http.routers.to-torrent]
rule = "Host(`transmission.sawyer.services`) || Host(`torrent.sawyer.services`)"
service = "torrent"
[http.routers.to-portainer]
rule = "Host(`portainer.sawyer.services`)"
service = "portainer"
[http.routers.to-pihole-web]
rule = "Host(`pihole-web.sawyer.services`)"
service = "pihole-web"
[http.routers.to-filebrowser]
rule = "Host(`filebrowser.sawyer.services`) || Host(`files.sawyer.services`)"
service = "filebrowser"
[http.routers.to-grafana]
rule = "Host(`grafana.sawyer.services`)"
service = "grafana"
[http.routers.to-registry]
rule = "Host(`registry.sawyer.services`)"
service = "registry"
[http.routers.to-github]
rule = "Host(`github.sawyer.services`) || Host(`gh.sawyer.services`)"
service = "github"

[http.services]
[http.services.dashy.loadBalancer]
[[http.services.dashy.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:10000"
[http.services.searxng.loadBalancer]
[[http.services.searxng.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:9001"
[http.services.plex.loadBalancer]
[[http.services.plex.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:32400"
[http.services.torrent.loadBalancer]
[[http.services.torrent.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:9092"
[http.services.portainer.loadBalancer]
[[http.services.portainer.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:9000"
[http.services.pihole-web.loadBalancer]
[[http.services.pihole-web.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:2001/admin"
[http.services.filebrowser.loadBalancer]
[[http.services.filebrowser.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:9003"
[http.services.grafana.loadBalancer]
[[http.services.grafana.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:9006"
[http.services.registry.loadBalancer]
[[http.services.registry.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:5000"
[http.services.github.loadBalancer]
[[http.services.github.loadBalancer.servers]]
url = "https://github.com/Legitcamper:443"

[https]
[https.routers]
[https.routers.to-traefik]
rule = "Host(`traefik.sawyer.services`)"
service = "api@internal"
[https.routers.to-dashy]
rule = "Host(`dashy.sawyer.services`)"
service = "dashy"
[https.routers.to-search]
rule = "Host(`searxng.sawyer.services`) || Host(`search.sawyer.services`)"
service = "searxng"
[https.routers.to-plex]
rule = "Host(`plex.sawyer.services`)"
service = "plex"
[https.routers.to-torrent]
rule = "Host(`transmission.sawyer.services`) || Host(`torrent.sawyer.services`)"
service = "torrent"
[https.routers.to-portainer]
rule = "Host(`portainer.sawyer.services`)"
service = "portainer"
[https.routers.to-pihole-web]
rule = "Host(`pihole-web.sawyer.services`)"
service = "pihole-web"
[https.routers.to-filebrowser]
rule = "Host(`filebrowser.sawyer.services`) || Host(`files.sawyer.services`)"
service = "filebrowser"
[https.routers.to-grafana]
rule = "Host(`grafana.sawyer.services`)"
service = "grafana"
[https.routers.to-registry]
rule = "Host(`registry.sawyer.services`)"
service = "registry"
[https.routers.to-github]
rule = "Host(`gh.sawyer.services`)"
service = "github"

[https.services]
[https.services.dashy.loadBalancer]
[[https.services.dashy.loadBalancer.servers]]
url = "https://homelab.dunker-arctic.ts.net:10000"
[https.services.searxng.loadBalancer]
[[https.services.searxng.loadBalancer.servers]]
url = "https://homelab.dunker-arctic.ts.net:9001"
[https.services.plex.loadBalancer]
[[https.services.plex.loadBalancer.servers]]
url = "https://homelab.dunker-arctic.ts.net:32400"
[https.services.torrent.loadBalancer]
[[https.services.torrent.loadBalancer.servers]]
url = "https://homelab.dunker-arctic.ts.net:9092"
[https.services.portainer.loadBalancer]
[[https.services.portainer.loadBalancer.servers]]
url = "https://homelab.dunker-arctic.ts.net:9443"
[https.services.pihole-web.loadBalancer]
[[https.services.pihole-web.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:2001/admin"
[https.services.filebrowser.loadBalancer]
[[https.services.filebrowser.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:9003"
[https.services.grafana.loadBalancer]
[[https.services.grafana.loadBalancer.servers]]
url = "http://homelab.dunker-arctic.ts.net:9006"
[https.services.registry.loadBalancer]
[[https.services.registry.loadBalancer.servers]]
url = "https://homelab.dunker-arctic.ts.net:5000"
[https.services.github.loadBalancer]
[[https.services.github.loadBalancer.servers]]
url = "https://github.com/Legitcamper"

[tcp]
[tcp.routers]
[tcp.routers.to-minecraft]
entryPoints = ["minecraft-tcp"]
rule = "HostSNI(`minecraft.sawyer.services`) || HostSNI(`mc.sawyer.services`)"
service = "minecraft"
[tcp.routers.to-minecraft.tls]
passthrough = true

[tcp.services]
[tcp.services.minecraft.loadBalancer]
[[tcp.services.minecraft.loadBalancer.servers]]
address = "100.103.193.140:25565"

[udp]
[udp.routers]
[udp.routers.to-minecraft]
entryPoints = ["minecraft-udp"]
# UDP does not use rules?
# rule = "HostSNI(`minecraft.sawyer.services`) || HostSNI(`mc.sawyer.services`)"
service = "minecraft"

[udp.services]
[udp.services.minecraft.loadBalancer]
[[udp.services.minecraft.loadBalancer.servers]]
address = "100.103.193.140:25565"
